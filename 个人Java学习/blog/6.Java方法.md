# 1、什么是方法

Java方法是语句的集合，它们在一起执行一个功能。

- 方法是解决一类问题的步骤的有序组合
- 方法包含于类或者对象中
- 方法在程序中被创建，在其他地方被引用

设计方法的原则：最好保持方法的原子性，就是一个方法只完成一个功能，这样利于我们后期的扩展。

# 2、方法的定义及调用

Java的方法类似于其他语言的函数，是一段用来完成特定功能的代码片段。一般情况下，定义一个方法包含以下语法：

- 方法头
  - 修饰符：可选，告诉编辑器如何调用该方法，定义了该方法的访问类型。
  - 返回值类型：方法可能会有返回值。returnValueType是方法返回值的数据类型。如果没有返回值，returnValueType是关键字void。
  - 方法名：是方法的实际名称。方法名和参数表共同构成方法签名。
  - 参数类型：参数像是一个占位符。当方法被调用时，传递值给参数。这个值被称为实参或变量。参数是可选的。
    - 形式参数：在方法被调用时用于接收外界输入的数据。
    - 实参：调用方法时，实际传给方法的数据。
- 方法体
  具体的语句，定义该方法的功能。

```java
修饰符 返回值类型 方法名（参数类型 参数名）{
    ···
    方法体    
    ···
    return 返回值;
}
```

方法调用：对象名.方法名（实参列表）

拓展：

值传递与引用传递

- 值传递
  - Java是值传递
- 引用传递

![img](6.Java%E6%96%B9%E6%B3%95.assets/1.jpg)

如图，int是基本类型，66直接保存在变量count中。而对于引用类型来说，变量存的是实例对象的地址，如上图也画的0x10一样，它指向实例对象。一般称这种变量为"引用"。对于我们的String str = "MDove"来说，str就是这个引用，这个引用指向了"MDove"。

看一下赋值代码：

```java
int count = 66;
count = 666;
String str = "MDove";
str = "MDove is cool.";
```

![img](6.Java%E6%96%B9%E6%B3%95.assets/2.jpg)

由上图，我们可以看出，对于基本类型来说，count = 666;是直接进行赋值。而str = "MDove is cool.";则是重新开辟了一块空间，然后将这块空间的地址赋值给str变量（引用）。

# 3、方法重载

方法重载就是在一个类中，有相同的函数名称，但形参不同的函数。

方法中重载的规则：

- **方法名必须相同**
- **参数列表必须不同**（个数不同、类型不同、或者参数排列循序不同等）
- 方法的返回值类型可以相同也可以不同
- 仅仅返回类型不同不足以成为方法的重载

实现理论：方法名称相同时，编译器会根据调用方法的参数个数、参数类型等去逐个匹配，以选择对应的方法，如果匹配失败，则编译器报错。

# 4、命令行传参

如果需要直接运行一个class文件，需要找到它的包所在目录，然后带上包路径执行。

```
java com.luhan.method.Demo03 this is me
//this is me 为传递的三个参数。
```

# 5、可变参数

- JDK1.5开始，Java支持传递同类型的可变参数给一个方法。
- 在方法声明中，在指定参数类型后加一个省略号（...）。
- 一个方法中只能指定一个可变参数，它必须是方法的最后一个参数。任何普通的参数必须在它声明之前。

```java
//输入要比较的数字，打印出其中最大的数
public static void printMax(double... numbers){
    if(numbers.length==0){
        System.out.println("请输入数字");
        return;
    }
    
    double result = numbers[0];
    //排序！
    for(int i = 1;i < numbers.length;i++){
        if(numbers[i] > result){
            result = numbers[i];
        }
    }
    System.out.println("最大的数为："+result);
}
```

# 6、递归

递归就是：A方法调用A方法，即自己调用自己。

利用递归可以用简单的程序来解决一些复杂的问题。他通常吧一个大型复杂的问题层层转化成为一个与原问题相似的规模较小的问题来求解，递归策略只需要少量的程序就可以描述出结题过程所需要的多次重复计算，大大地减少了程序的代码量。递归的能力在于用有限的语句来定义对象的无限集合。

递归结构包括两个部分：

- 递归出口：什么时候不调用自身的方法。如果没有尽头，将陷入死循环。
- 递归体：什么时候需要调用自身方法。

```java
//计算阶乘，如5!=5*4*3*2*1，可以使用递归思想
public static int f(int n){
    if(n==1){
        return 1;
    }else{
        return n*f(n-1);
    }
}
```

由于递归空间成本较大，所以只推荐**在量较小的时候才使用，其他时候尽量避免使用。**